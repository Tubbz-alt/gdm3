gdm (3.0.4-0ubuntu8) UNRELEASED; urgency=low

  * debian/patches/15_default_session.patch:
    - Set ubuntu as default session

 -- Didier Roche <didrocks@ubuntu.com>  Wed, 10 Aug 2011 18:30:23 +0200

gdm (3.0.4-0ubuntu7) oneiric; urgency=low

  * debian/patches/00git_use_new_power_interface.patch:
    - Use the new power DBus interface from gnome-settings-daemon

 -- Rodrigo Moya <rodrigo.moya@canonical.com>  Wed, 27 Jul 2011 11:31:26 +0200

gdm (3.0.4-0ubuntu6) oneiric; urgency=low

  * debian/control
    - Remove duplicate cdbs build-dep
    - Minor changes to reduce Debian diff
  * debian/rules
    - Add configure flags from Debian to correctly handle $PATH
      and locale

 -- Jeremy Bicha <jbicha@ubuntu.com>  Thu, 14 Jul 2011 10:36:48 +0200

gdm (3.0.4-0ubuntu5) oneiric; urgency=low

  * New patch, ubuntu_xresources_is_a_dir, fixes loading of Debian/Ubuntu
    style /etc/X11/Xresources/*.
  * Update ubuntu_plymouth patch to pass -background none to the Xserver
    instead of -nr which wont be supported in the future; LP: #806857.

 -- Loïc Minier <loic.minier@ubuntu.com>  Wed, 13 Jul 2011 17:30:13 +0200

gdm (3.0.4-0ubuntu4) oneiric; urgency=low

  * debian/control, debian/gdm.postinst, debian/gdm.postrm, debian/gdm.preinst
    debian/60xdg_path-on-session, debian/gdm.install,
    - remove setting the xdg path on GDM SESSION as now in x11-common using a
      more generic environment variable shared between gdm and lightdm
    - pre-depends on new dpkg-maintscript-helper to achieve the operation

 -- Didier Roche <didrocks@ubuntu.com>  Wed, 06 Jul 2011 12:15:36 +0200

gdm (3.0.4-0ubuntu3) oneiric; urgency=low

  * debian/gdm.upstart: Don't start gdm if /etc/X11/default-display-manager
    does not exist and lightdm is installed. (LP: #804262)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 01 Jul 2011 17:27:39 +0100

gdm (3.0.4-0ubuntu2) oneiric; urgency=low

  * Drop unnecessary libaudit-dev build dependency, which is in universe.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 30 Jun 2011 15:23:17 +0100

gdm (3.0.4-0ubuntu1) oneiric; urgency=low

  [ Sebastien Bacher ]
  * New upstream version 3.0.0
  * Start cleaning for the GNOME3 update
  * debian/patches/00git_passwordless_login_crash.patch,
    debian/patches/17_use_timed_login_after_autologin.patch,
    debian/patches/19_no_greeter_for_autologin.patch,
    debian/patches/37_disable_resize_grip.patch,
    debian/patches/38_user_chooser_focus.patch,
    debian/patches/43_translate_cancel_button.patch:
    - those are fixed is in the new version
  * debian/patches/08_use_polkit_for_settings.patch,
    debian/patches/09_gdmsetup.patch:
    - drop gdmsetup, the options should be integrated in gnome-control-center 
      (the autologin one is in the user account configuration for example)
  * debian/patches/09_gdmserver_gconf_settings.patch:
    - the gconf hack to turn on and off login sounds, that should be
      rewritten use gsettings if wanted, lightdm should also make that easier
  * debian/patches/10_xsplash.patch:
    - xsplash was a one cycle hack and has been deprecated since
  * debian/patches/24_respect_system_minuid.patch:
    - deprecated with the accountsservice use
  * debian/patches/25_update_gconf_directories.patch:
    - the new version use gsettings and that was useful for the
      gdmsetup configuration only
  * debian/patches/34_disable_a11y_default.patch:
    - the change was not appropriate for a sru but is fine early 
      during the cycle
  * debian/%gconf-tree.xml:
    - tweaks to the default layout, those will need to be revisited with the
      new ui and gsettings if needed (no needed if lightdm is the default?)
  * Resynchronize some of the files on Debian to lower the difference

  [ Gunnar Hjalmarsson ]
  * debian/patches/36_language_environment_settings.patch:
    Set LC_CTYPE and LC_COLLATE to the same locale name as LC_MESSAGES
    (LP: #786986).
  * Patches adapted to gdm-3.0.0:
    - 15_default_session.patch
    - 30_don_t_save_failsafe_session.patch
    - 32-hide-mouse-cursor.patch
    - 45_time_display_on_greeter.patch
    - 90_register-bin-true-as-URI-scheme-handler-for-several-schemes.patch
  * debian/patches/45_time_display_on_greeter.patch:
    Display time on the greeter in a proper format also when
    /etc/default/locale assigns different locales to LANG respective
    LC_MESSAGES (LP: #777264).
  * debian/gdm.upstart:
    Export LC_MESSAGES so the weekday gets displayed in the system
    language on the greeter.
  * debian/patches/41_pt_time_format.patch:
    Patch deleted (superseded by 45_time_display_on_greeter.patch).

  [ Robert Ancell ]
  * debian/patches/42_no_ecryptfs_autologin.patch:
    - Only stop autologin if full home directory encryption is used
      (LP: #753707)

  [ Martin Pitt ]
  * New upstream version 3.0.4.
  * debian/control.in: Require accountsservice 0.6.12.
  * Drop 90_register-bin-true-as-URI-scheme-handler-for-several-schemes.patch:
    Fixed upstream in a different way.
  * debian/gdm.install: install the dummy desktop handler and the
    mimeapps.list to /usr/share/gdm/applications.
  * debian/rules: Drop installation of bonobo .server for FUSA, this is all
    obsolete.
  * debian/rules: Drop installation of debian/%gconf-tree.xml, which was
    removed above.
  * Drop 35_langlist_and_lsmess_dmrc_fields.patch: This now needs to be
    reimplemented in accountsservice.
  * 42_no_ecryptfs_autologin.patch: Update to gdm 3.0.
  * Synchronize patches with Debian:
    - Drop 04_fix_external_program_directories.patch, replace with
      07_libexec-paths.patch.
    - Add 93_xdg_data_dirs.patch.
    - Add 01_language.patch.
    - Drop 02_x_server_location.patch, replace with 16_xserver_path.patch. Set
      $X_PATH and friends in debian/rules.
    - Rename 05_initial_server_on_vt7.patch to 06_first_vt.patch. They have
      the same purpose, but ours is two magnitudes simpler.
    - Add 08_frequent-users_greeter.patch.
    - Rename 06_run_xsession.d.patch to ubuntu_run_xsession.d.patch; we don't
      use Debian's Xsession script, but upstream's.
    - Rename 11_crash_for_apport.patch to ubuntu_dont_catch_sigsegv.patch.
    - Rename 14_guest_session.patch to ubuntu_guest_session.patch.
    - Rename 20_upstart.patch to ubuntu_upstart_event.patch.
    - Rename 26_no_debug.patch to ubuntu_no_debug.patch.
    - Rename 39_grep_path.patch to 29_grep_path.patch just as Debian did.
  * Merge 27_save_root_window.patch and 28_plymouth_transition.patch into
    ubuntu_plymouth.patch, to correspond better with its origin at
    http://pkgs.fedoraproject.org/gitweb/?p=gdm.git;a=blob;f=plymouth.patch;hb=HEAD
  * Drop 16_gdmserver_user_manager.patch, this info is now provided by
    accountsservice.
  * Drop 32-hide-mouse-cursor.patch. It never really looked that much better,
    and is unimportant now that gdm isn't even the default DM any more.
  * Drop 40_one_lang_option_per_translation.patch: gdm does not show a
    language list any more, thus obsolete.
  * 44_xsession-errors_symlink.patch: Fix case of .xsession-errors pointing to
    non-files such as /dev/null. Also rename to
    00git_xsession-errors_symlink.patch, as the patch was also committed
    upstream now. (LP: #771661)
  * debian/watch: Look for .bz2 tarballs; upstream stopped publishing .gz
    ones.
  * debian/control.in: Add missing gnome-pkg-tools dependency.
  * debian/control.in: Bump Standards-Vesion to 3.9.2.
  * debian/gdm.preinst: Add missing debhelper token.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 29 Jun 2011 12:05:47 +0100

gdm (2.32.1-0ubuntu5) oneiric; urgency=low

  * SECURITY UPDATE: don't allow use of browser in the GDM session
  * 90_register-bin-true-as-URI-scheme-handler-for-several-schemes.patch:
    provide custom MIME configuration for the gdm user to ensure no default
    URI scheme handler is used
    - CVE-2011-1709

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 01 Jun 2011 15:34:44 -0500

gdm (2.32.1-0ubuntu4) oneiric; urgency=low

  [ Martin Pitt ]
  * Add 44_xsession-errors_symlink.patch: Don't rename .xsession-errors to
    .xsession-errors.old if the file is a symlink.  The later code will
    truncate the file to zero anyway, so even in that case the file won't grow
    indefinitely. (LP: #771661)

  [ James Hunt ]
  * Updated gdm.conf to fix gdm in single user mode (LP: #436936)

 -- Stéphane Graber <stgraber@ubuntu.com>  Mon, 02 May 2011 14:41:57 -0400

gdm (2.32.1-0ubuntu3) natty; urgency=low

  * debian/patches/36_language_environment_settings.patch:
    - Modified test of whether it is a guest session to cover e.g.
      "gnome-classic-guest-restricted".

 -- Gunnar Hjalmarsson <ubuntu@gunnar.cc>  Thu, 14 Apr 2011 12:19:13 +0200

gdm (2.32.1-0ubuntu2) natty; urgency=low

  * Translate the cancel button (LP: #757468).

 -- Evan Dandrea <ev@ubuntu.com>  Tue, 12 Apr 2011 11:27:16 +0100

gdm (2.32.1-0ubuntu1) natty; urgency=low

  * New upstream release
  * debian/patches/01git_xdmcp_ipv6.patch:
  * debian/patches/43_CVE-2011-0727.patch:
    - Applied upstream

 -- Robert Ancell <robert.ancell@canonical.com>  Fri, 08 Apr 2011 16:35:19 +1000

gdm (2.32.0-0ubuntu15) natty; urgency=low

  * SECURITY UPDATE: race condition allowing privilege escalation
    - debian/patches/43_CVE-2011-0727.patch: fix
      daemon/gdm-session-worker.c to copy files as session user rather
      than root followed by a subsequent chown. (LP: #746053)
    - CVE-2011-0727

 -- Steve Beattie <sbeattie@ubuntu.com>  Mon, 04 Apr 2011 20:42:03 -0700

gdm (2.32.0-0ubuntu14) natty; urgency=low

  * debian/patches/24_respect_system_minuid.patch:
    - Ignore entries from ck-history that are using system UIDs (LP: #696038)
  * debian/patches/42_no_ecryptfs_autologin.patch:
    - Don't autologin ecryptfs users (LP: #284443)

 -- Robert Ancell <robert.ancell@canonical.com>  Fri, 01 Apr 2011 15:49:50 +1100

gdm (2.32.0-0ubuntu13) natty; urgency=low

  [ Gunnar Hjalmarsson ]
  * debian/patches/36_language_environment_settings.patch:
    - Make the first item in the system LANGUAGE list serve as default
      language for new users (LP: #740754).
    - Do not apply code for faking $GDM_LANG if it is the $USER's
      first login ever (LP: #740754).
    - Check $DESKTOP_SESSION instead of $GDMSESSION to determine if
      it is a guest session.

  [ Martin Pitt ]
  * Add 41_pt_time_format.patch: Fix time format for Portugal. Thanks
    jbatista! (LP: #696560)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 31 Mar 2011 18:09:26 +0200

gdm (2.32.0-0ubuntu12) natty; urgency=low

  * Make splash dependant on either a graphics device appearing or
    udev-graphics-fallback completing.  (LP: #702090)

 -- Andy Whitcroft <apw@canonical.com>  Fri, 18 Mar 2011 22:39:03 +0000

gdm (2.32.0-0ubuntu11) natty; urgency=low

  * debian/gdm.upstart: revert recent update it has issues and break gdm on
    quite some configurations (lp: #735805)

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 16 Mar 2011 18:00:32 +0100

gdm (2.32.0-0ubuntu10) natty; urgency=low

  * debian/patches/01git_xdmcp_ipv6.patch:
    - git commit to fix xdmcp issue when ipv6 is used

  [ Martin Pitt ]
  * Add 00git_passwordless_login_crash.patch: Disable the login button in
    MODE_AUTHENTICATION if no query is pending. This avoids a crash when
    having passwordless logins. Original patch from Michael Braun, slightly
    changed for upstream git head, backported to 2.32. (LP: #724205)

  [ James Hunt ]
  * debian/gdm.upstart: gdm will now restart as expected if a user
    runs "telinit 2" from single-user mode (LP: #436936).

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 15 Mar 2011 18:45:45 +0100

gdm (2.32.0-0ubuntu9) natty; urgency=low

  * debian/patches/36_language_environment_settings.patch:
    - Set LC_MESSAGES explicitly only if the value does not equal
      $LANG, to prevent that side effects when connecting to other
      computers via ssh appear unnecessarily.

 -- Gunnar Hjalmarsson <ubuntu@gunnar.cc>  Wed, 23 Feb 2011 20:53:50 +0100

gdm (2.32.0-0ubuntu8) natty; urgency=low

  [ Gunnar Hjalmarsson ]
  * debian/patches/36_language_environment_settings.patch:
    - Use locale names with '.UTF-8' instead of '.utf8' when setting
      the LC_MESSAGES environment variable (LP: #666565).
  * debian/patches/40_one_lang_option_per_translation.patch:
    - Modification of /usr/share/gdm/language-options so an absent
      translation directory won't cause it to exit.

 -- Evan Dandrea <ev@ubuntu.com>  Mon, 14 Feb 2011 15:53:38 +0000

gdm (2.32.0-0ubuntu7) natty; urgency=low

  [ Gunnar Hjalmarsson ]
  * debian/patches/40_one_lang_option_per_translation.patch:
    - The option list in the language chooser changed so the items
      represent available translations instead of locales
      (LP: #693337).
    - setlocale() validation removed (not applicable).
    - Show locale variants in the list of language options
      (LP: #408474).
  * debian/patches/36_language_environment_settings.patch:
    - Skip the encoding part in the dmrc "Language" value. It's not
      a locale name, so let's not give the impression it is.
    - Take main country code into account when generating
      a locale name for LC_MESSAGES.

  [ Kees Cook ]
  * Restore 24_respect_system_minuid.patch: upstream does not handle
    reading login.defs yet (LP: #708911).

 -- Gunnar Hjalmarsson <ubuntu@gunnar.cc>  Thu, 10 Feb 2011 10:07:31 +0100

gdm (2.32.0-0ubuntu6) natty; urgency=low

  * Backported some changes from Debian
  * debian/patches/39_grep_path.patch:
    - Don’t hardcode grep to a wrong location.
  * debian/gdm.postrm:
    - correctly deal with uninstalls while gdm is still running (lp: #613150)

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 25 Jan 2011 16:53:46 +0100

gdm (2.32.0-0ubuntu5) natty; urgency=low

  [ Martin Pitt ]
  * Add 38_user_chooser_focus.patch: Correctly give focus to the user chooser
    on startup. Patch by Vincent Untz, merci! (LP: #687440)

  [ James Hunt ]
  * debian/gdm.upstart: Remove starting-dm event (which was missed from a
    previous commit) and add login-session-start and desktop-session-start
    events (LP: #706842).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 24 Jan 2011 17:14:25 +0100

gdm (2.32.0-0ubuntu4) natty; urgency=low

  * debian/control.in:
    - updated the gtk requirement to the version having the new api required

  [ Gunnar Hjalmarsson ]
  * debian/patches/36_language_environment_settings.patch:
    - grep() calls replaced for efficiency purposes
    - ability to deal with @variants in locale names
    - attempt to set the language fields in /var/cache/gdm/$USER/dmrc at
      first login after upgrade from GDM version pre 2.32.0-0ubuntu2

  [ Cody Russell ]
  * debian/patches/37_disable_resize_grip.patch:
    - disable the grips on the gdm screen (lp: #704018)

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 19 Jan 2011 11:33:33 +0100

gdm (2.32.0-0ubuntu2) natty; urgency=low

  [ Martin Pitt ]
  * 06_run_xsession.d.patch: Don't trip over directories and other non-files
    in Xsession.d/. (LP: #654578)

  [ Gunnar Hjalmarsson ]
  * debian/patches/35_langlist_and_lsmess_dmrc_fields.patch:
    - Addition of the fields "Langlist" and "LCMess", which make ~/.dmrc
      and /var/cache/gdm/$USER/dmrc able to store the user language
      environment (LP: #553162).
  * debian/patches/36_language_environment_settings.patch:
    - Changes to Xsession's way to use GDM_LANG. It now sets LANGUAGE
      and LC_MESSAGES, which makes it possible to keep the user language
      for message translation apart from other locale settings
      (LP: #553162).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 14 Dec 2010 22:24:40 +0100

gdm (2.32.0-0ubuntu1) natty; urgency=low

  * New upstream release.
  * Drop 01_upower.patch, upstream now.
  * Drop 03_hide_system_users.patch, fixed upstream in a different way.
  * Drop 07_correct_distribution_version.patch, upstream now.
  * Drop 12_fusa_name_change.patch, obsolete now as we don't install the gdm
    one any more.
  * Drop 18_locale_env_vars.patch, upstream now.
  * Drop 24_system_uid.patch; upstream handles this more dynamically now, and
    we really want to show users with an ID of < 1000 (but >= 500).
  * Drop 90_git_name_escaping.patch, upstream now.
  * Update all other patches to cleanly apply to new upstream version.
  * 08_use_polkit_for_settings.patch: Add missing library linking to
    libgdmcommon, to fix building with --as-needed.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 07 Dec 2010 15:55:34 +0100

gdm (2.30.5-0ubuntu5) natty; urgency=low

  * debian/control: 
    - don't b-d on libglade2-dev, it uses gtkbuilder
  * debian/rules:
    - don't install the user switching applet, upstream is going to stop
      shipping it in gdm for GNOME3 and Ubuntu already use indicator-session. 

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 09 Nov 2010 13:34:57 +0100

gdm (2.30.5-0ubuntu4) maverick; urgency=low

  * debian/gdm.upstart: Do not already fire on a framebuffer device. When a
    real DRM driver gets loaded later on, X will be started too early to catch
    it. This should go a long way towards fixing LP: #615549

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 13 Sep 2010 15:23:24 +0200

gdm (2.30.5-0ubuntu3) maverick; urgency=low

  * debian/patches/90_git_name_escaping.patch:
    - git change to correctly escape usernames (lp: #633050)

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 08 Sep 2010 17:37:51 +0200

gdm (2.30.5-0ubuntu2) maverick; urgency=low

  * debian/patches/09_gdmsetup.patch:
    - don't list the policykit file in the configure, it's not required but
      breaks the escaping and the strings listed in the authentification dialog
      (lp: #617044)

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 17 Aug 2010 21:47:44 +0200

gdm (2.30.5-0ubuntu1) maverick; urgency=low

  * New upstream version:
    - Retry getpw* calls if they return EINTR
    - #619588, don't show markup tags in UI (lp: #603097)
    - #626564, fix intermittent failure to load user list (lp: #614810) 

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 11 Aug 2010 21:50:35 +0200

gdm (2.30.4-0ubuntu1) maverick; urgency=low

  [ Sebastien Bacher ]
  * New upstream versions:
    - Translation fixes
    - Many performance improvements for the greeter
    - Various robustness fixes
    - Fix XDMCP
    - Fix switch user menu item detection
    - Remove obsolete restart and stop scripts
    - Fixed #618834, GdmProductSlave does not handle OpenSession 
    - Fixed #342397, gdm doesn't respond to XDMCP querys if local X server fails
      to start 
    - Fixed #544730, XDMCP broadcast discovery not working on BSD w/ ipv6 
      enabled (lp: #393835)
    - Fixed #589536, gdm-simple-slave crashed with signal 5 in 
      g_return_if_fail_warning (lp: #403441)
    - Fixed #592183, GDM entry field loses focus after dialogs are presented 
    - Fixed #594857, Warning when type 'gdm --version' in terminal in new GDM 
    - Fixed #599683, xdmcp Queries from Older software 
    - Fixed #610179, GDM patch for accounts dialogue 
    - Fixed #616722, Xdmcp linking problem 
    - Fixed #616730, user-switch-applet build failure: missing -I for dbus-glib 
    - Fixed #617665, Panel doesn't shrink after disabling "high contrast" 
    - Fixed #619588, User's Real names should be escaped against XML markup 
      (lp: #499690, #585128)
    - Fixed #620430, memory leaks in gdm 
    - Fixed #620893, bottom panel is overlapping at smaller sizes 
    - Fixed #620908, gdm user switch applet goes nuts while 
      changing password file 
    - Fixed #621045, Improve startup performance of the greeter 
    - Fixed #621131, User switch applet performance issues 
    - Fixed #621661, Make slaves more robust against crashes 
    - Fixed #622069, greeter doesn't work when there's no local user 
    - Fixed #622337, shows shutdown buttons when connecting over xdmcp 
    - Fixed #622430, keyboard layout handling wonky 
    - Fixed #622431, cancel button not shown during timed login 
    - Fixed #601458, Add presence items to status menu and port to JS 
  * Refresh distribution changes
  * debian/patches/07_correct_distribution_version.patch:
    - use upstream version
  * debian/patches/13_cache_ck_history.patch:
    - dropped since the new upstream version solves this issue differently
  * debian/patches/23_login_window_hint.patch:
    - dropped, the change is in the new version

  [ Kees Cook ]
  * debian/patches/24_system_uid.patch: - updated for upstream code changes

  [ Robert Ancell ]
  * debian/xsession.desktop:
  * debian/xterm.desktop:
    - Use clearer session names (LP: #599336)
  * debian/patches/09_gdmsetup.patch:
    - Remove session comment from combo box to make it fit better

  [ Martin Pitt ]
  * 09_gdmsetup.patch: Only show "Play Login Sound" checkbox if we have
    /usr/share/gdm/autostart/LoginWindow/libcanberra-ready-sound.desktop.
  * Add 01_upower.patch: Port to UPower.
  * debian/control: libdevkit-power-gobject-dev → libupower-glib-dev.

 -- Kees Cook <kees@ubuntu.com>  Fri, 06 Aug 2010 13:02:51 +0200

gdm (2.30.2.is.2.30.2-0ubuntu3) maverick; urgency=low

  * debian/patches/95_git_name_escaping.patch:
    - updated to the current git version to fix escaping issues in the 
      language selector list due the previous change
      (lp: #603097)

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 21 Jul 2010 11:43:52 +0200

gdm (2.30.2.is.2.30.2-0ubuntu2) maverick; urgency=low

  * debian/60xdg_path-on-session:
    - add XDG_CONFIG_DIRS depending on session so that we can show/hide desktop
      file depending on session

 -- Didier Roche <didrocks@ubuntu.com>  Tue, 20 Jul 2010 17:37:11 +0200

gdm (2.30.2.is.2.30.2-0ubuntu1) maverick; urgency=low

  * Tweak the version number to be newer than the lucid-updates one
  * debian/patches/94_git_null_free_crash.patch:
    - git change to fix a crasher (lp: #403441)
  * debian/patches/95_git_name_escaping.patch:
    - git change to fix escaping issues leading to crashes (lp: #499690),
      or to having incorrect usernames displayed (lp: #585128)

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 06 Jul 2010 13:36:48 +0200

gdm (2.30.2-0ubuntu5) maverick; urgency=low

  * debian/patches/09_gdmserver_gconf_settings.patch:
  * debian/patches/09_gdmsetup.patch:
    - Fix face browser toggle

 -- Robert Ancell <robert.ancell@canonical.com>  Mon, 28 Jun 2010 10:03:02 +1000

gdm (2.30.2-0ubuntu4) maverick; urgency=low

  * debian/control:
    - Build-depend on gnome-common for autotools
  * debian/rules:
    - Run autotools on build
  * debian/source:
    - Use source format 3.0
  * debian/patches/*:
    - Use quilt and fix patch headers
  * debian/patches/09_gdmsetup.patch:
    - Add checkbutton for enabling face browser (LP: #445123)
  * debian/patches/99_autoreconf.patch:
    - Removed, autotools now run from debian/rules

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 22 Jun 2010 13:26:45 +1000

gdm (2.30.2-0ubuntu3) maverick; urgency=low

  * debian/patches/30_don_t_save_failsafe_session.patch: (LP: #542345)
    - return FALSE instead of exiting on .desktop file without a comment

 -- Didier Roche <didrocks@ubuntu.com>  Thu, 10 Jun 2010 10:32:58 +0200

gdm (2.30.2-0ubuntu2) lucid-proposed; urgency=low

  * debian/patches/16_gdmserver_user_manager.patch:
  * debian/patches/24_system_uid.patch:
    - Update to match IncludeAll behaviour in greeter (LP: #471542)

 -- Robert Ancell <robert.ancell@canonical.com>  Wed, 09 Jun 2010 11:09:11 +1000

gdm (2.30.2-0ubuntu1) lucid-proposed; urgency=low

  * New upstream bug fix release:
    - Accessibility is now enabled by default for the GDM login screen.
    - When the face browser is disabled, the PAM conversation is started
      immediately, so users do not need to click a button to start entering
      the username and password.  (GNOME #591082)
    - Add label-for and labelled-by a11y relations to the entry field in the
      login GUI.  This makes the login GUI more accessible when using AT programs.
      (GNOME #613434).
    - Fixed bugs that were causing XDMCP to not show the greeter again after
      logout.  (GNOME #606724).
    - The default XDMCP PingIntervalSeconds was increased from 15 to
      60 seconds.
    - The WINDOWPATH environment variable is now set for the user session.
      (GNOME #609272)
    - Ensure Init script is called when using Automatic Login. (GNOME #614488)
    - Fix race condition with Timed Login. (GNOME #614062)
    - Drop xhost localuser:gdm and localuser:root when the user session starts.
      (GNOME #605350)
    - Removed the icon monitor from the GDM login GUI since it was not functional
      and was causing problems with automounting user's $HOME directories.
      (GNOME #609321, LP: #518810)
    - Do not mark "%x" for translation. (GNOME #613306)
    - Remove duplicated strings for translation. (GNOME #609179)
    - Minor doc corrections.
    - Translation updates.
  * 04_fix_external_program_directories.patch, 99_autoreconf.patch: Refresh
    for new upstream version.
  * Add 34_disable_a11y_default.patch: Revert upstream change between 2.30.0
    and 2.30.1 to enable a11y by default. This wasn't tested and isn't
    appropriate for an SRU.
  * 06_run_xsession.d.patch: Export $USERXSESSION, $USERXSESSIONRC, and
    $ALTUSERXSESSION, so that running the "custom"/"default" sessions actually
    works. Without those, /etc/X11/Xsession.d/50x11-common_determine-startup
    decides to run the system default session even if we have the
    "allow-user-xsession" option. This is a prerequisite for fixing LP#398300.
    Also update the patch tag header to comply to DEP-3.
  * Add debian/xsession.desktop: Add a new session type "~/.xsession" which
    will run ~/.xsession (Exec=default will be interpreted by the
    20x11-common_process-args and 50x11-common_determine-startup Xsession.d
    scripts). If the admin sets "allow-user-xsession" to False, this will
    launch the system default session instead. (LP: #398300)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 28 Apr 2010 14:41:12 +0200

gdm (2.30.0-0ubuntu5) lucid; urgency=low

  * debian/patches/14_guest_session.patch:
    - enable switching to guest session corresponsding to current one (ie UNE if
      you are in UNE session and gnome if you are in GNOME session)
      (LP: #562908)

 -- Didier Roche <didrocks@ubuntu.com>  Wed, 14 Apr 2010 16:36:26 +0200

gdm (2.30.0-0ubuntu4) lucid; urgency=low

  * debian/patches/29_switch_user.patch:
    - Deselect user when cancelling user switch (LP: #532531)

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 13 Apr 2010 15:43:37 +0800

gdm (2.30.0-0ubuntu3) lucid; urgency=low

  [ Didier Roche ]
  * debian/patches/09_gdmsetup.patch:
    - do not list users who have an encrypted home directory for autologin
      candidate (still some corner case, see code comment). (LP: #353446)

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 13 Apr 2010 15:43:27 +0800

gdm (2.30.0-0ubuntu2) lucid; urgency=low

  * 33-multi-keyboard-layouts.patch: Work around strange libxklavier behaviour
    (which returns NULL for empty variants, but does not accept NULL when
    setting a configuration). This fixes broken variant setting in some cases.
    (LP: #550887)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 30 Mar 2010 22:29:15 +0200

gdm (2.30.0-0ubuntu1) lucid; urgency=low

  * New upstream release:
    - Translation improvements
  * debian/patches/09_gdmsetup.patch:
    - Disable broken face browser checkbutton

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 30 Mar 2010 12:56:00 +1100

gdm (2.29.92-0ubuntu9) lucid; urgency=low

  * 33-multi-keyboard-layouts.patch: Fix duplication of layouts by treating ""
    and NULL variants equally. (LP: #548778)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 29 Mar 2010 10:07:58 +0200

gdm (2.29.92-0ubuntu8) lucid; urgency=low

  * debian/patches/09_gdmsetup.patch:
    - reintegrate the needed bits lost in the merge in 2.29.92-0ubuntu5:
      select default session is back! (LP: #548417)

 -- Didier Roche <didrocks@ubuntu.com>  Fri, 26 Mar 2010 10:19:17 +0100

gdm (2.29.92-0ubuntu7) lucid; urgency=low

  * debian/patches/09_gdmserver_gconf_settings.patch:
  * debian/patches/09_gdmsetup.patch:
    - Add face browser checkbutton to gdmsetup (LP: #445123)

 -- Robert Ancell <robert.ancell@canonical.com>  Fri, 26 Mar 2010 15:45:20 +1100

gdm (2.29.92-0ubuntu6) lucid; urgency=low

  * debian/patches/31-unify-power-strings.patch:
    - drop the change for lucid it requires documentation update
      which has not been taken into account there, similar changes are done on
      the other desktop components too now

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 25 Mar 2010 11:26:02 +0100

gdm (2.29.92-0ubuntu5) lucid; urgency=low

  [ Robert Ancell ]
  * debian/patches/09_gdmsetup.patch:
  * debian/patches/15_gdmsetup_default_session.patch:
  * debian/patches/09_gdmserver_sound_settings.patch:
    - Add startup sound configuration
    - Merged 15_gdmsetup_default_session.patch into 09_gdmsetup.patch

   [ Didier Roche ]
   * debian/patches/09_gdmserver_sound_settings.patch: (LP: #437429)
   * debian/patches/15_gdmsetup_default_session.patch:
     - add gconftool calls to get/set sound parameter
     - fix some wrong signal call and missing callback function
   * debian/patches/25_update_gconf_directories.patch:
     - readd $HOME/.gconf between default and mandatory to take changes
       into account

 -- Didier Roche <didrocks@ubuntu.com>  Wed, 24 Mar 2010 11:11:33 +0100

gdm (2.29.92-0ubuntu4) lucid; urgency=low

  * 31-unify-power-strings.patch: Drop "Shut Down" → "Switch Off" hunk, still
    under debate.
  * Add 33-multi-keyboard-layouts.patch: Keep multiple system keyboard layouts
    for session. (LP: #460328)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 23 Mar 2010 17:08:55 +0100

gdm (2.29.92-0ubuntu3) lucid; urgency=low

  * debian/gdm.upstart:
    - Now we've inhibited rc2 from stopping plymouth once gdm has been
      started, this script is responsible for stopping plymouth itself,
      even if it doesn't start gdm.  Add a "plymouth quit || true" in
      the "text" path.

 -- Scott James Remnant <scott@ubuntu.com>  Wed, 17 Mar 2010 00:53:30 +0000

gdm (2.29.92-0ubuntu2) lucid; urgency=low

  * debian/patches/28_plymouth_transition.patch:
    - After deactivating plymouth, call plymouth --has-active-vt and if not,
      just tell it to quit and don't continue with the transition -- start
      gdm on a new vt

      This solves the issue of just re-using the active VT when Plymouth
      hasn't even shown a splash screen yet; resulting in X running on VT1
      alongside the X server.

 -- Scott James Remnant <scott@ubuntu.com>  Thu, 11 Mar 2010 20:06:42 +0000

gdm (2.29.92-0ubuntu1) lucid; urgency=low

  * New upsteam release:
    - The greeter is not torn down until pam_open_session finishes since
      some PAM modules can ask questions up until this point.
    - The daemon now kills the session process rather than the entire process
      group, fixing bug #607738. The corresponding gnome-session bug #607658
       is released with 2.29.92 so this works properly.
  * debian/patches/04_fix_external_program_directories.patch: adapt to
    last upstream version
  * debian/patches/99_autoreconf.patch: refreshed
  * debian/control.in:
    - bump Standards-Version to latest

 -- Didier Roche <didrocks@ubuntu.com>  Tue, 09 Mar 2010 12:45:39 +0100

gdm (2.29.6-0ubuntu7) lucid; urgency=low

  * Add debian/patches/32-hide-mouse-cursor.patch: Hide the mouse cursor on
    startup and when starting an user session.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 05 Mar 2010 11:03:55 +0100

gdm (2.29.6-0ubuntu6) lucid; urgency=low

  * debian/%gconf-tree.xml:
    - updated artwork to the lucid one

  [ Chris Coulson ]
  * debian/patches/31-unify-power-strings.patch:
    - Patch from Ted Gould to change "Shut down" and "Suspend" to
      "Switch off" and "Sleep" (LP: #531493) 

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 04 Mar 2010 23:36:10 +0100

gdm (2.29.6-0ubuntu5) lucid; urgency=low

  * Add 18_locale_env_vars.patch: gdm does not have a facility to specify a
    list of languages for $LANGUAGE, so do not break $LANGUAGE by forcing it
    to $LANG (they have a completely different syntax, and different
    meanings). Also, if the system sets $LC_ALL (which distros should never
    ever do), we should not clobber this.  $LINGUAS is not a runtime
    environment variable for locales, so just drop this.  (LP: #407300)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 04 Mar 2010 12:55:59 +0100

gdm (2.29.6-0ubuntu4) lucid; urgency=low

  * 05_initial_server_on_vt7.patch: Move the actual stamp file creation into
    gdm_server_spawn(), so that the stamp file is also created when not using
    gdm_server_start(). This happens when booting with Plymouth, since
    28_plymouth_transition.patch introduces an alternative startup function.
    (LP: #511134)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 03 Mar 2010 12:35:29 +0100

gdm (2.29.6-0ubuntu3) lucid; urgency=low

  * debian/patches/15_gdmsetup_default_session.patch: fix bug asking
    polkit write access on load and erasing autologin

 -- Didier Roche <didrocks@ubuntu.com>  Thu, 11 Feb 2010 12:24:10 +0100

gdm (2.29.6-0ubuntu2) lucid; urgency=low

  * debian/rules: Enable --with-incomplete-locales, so that the language
    picker also displays languages which do not have any .mo file in
    /usr/share/locale/ (since our langpacks ship the .mo files in a different
    path). Thanks to Robert Collins for debugging this!

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 05 Feb 2010 15:04:53 -0800

gdm (2.29.6-0ubuntu1) lucid; urgency=low

  * New upstream version:
    - Various build fixes
    - Crash fix in layout detection
    - Crash fix in session list detection
    - Remove timeout for interacting with PAM
    - Fix compile with --no-as-needed
    - Add debug message if system lacks fonts
    - Disable switch user item if user switching won't work
  * debian/patches/01_disable_hal.patch,
    debian/patches/00git-add-missing-locale-alias.patch,
    debian/patches/00git-keyboard-layout-crash.patch,
    debian/patches/18_do_not_double_free_exec_variable.patch:
    - those changes are in the new version
  * debian/patches/15_default_session.patch,
    debian/patches/99_autoreconf.patch:
    - new version update

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 28 Jan 2010 17:10:32 +0100

gdm (2.29.5-0ubuntu6) lucid; urgency=low

  * add debian/patches/30_don_t_save_failsafe_session.patch:
    Don't set failsafe session as default when user select it (LP: #509182)

 -- Didier Roche <didrocks@ubuntu.com>  Thu, 21 Jan 2010 20:45:19 +0100

gdm (2.29.5-0ubuntu5) lucid; urgency=low

  * debian/patches/15_gdmsetup_default_session.patch:
    Provide default session choice in gdmsetup
  * debian/patches/99_autoreconf.patch: refresh to take into account
    new files in previous file

 -- Didier Roche <didrocks@ubuntu.com>  Wed, 20 Jan 2010 15:04:11 +0100

gdm (2.29.5-0ubuntu4) lucid; urgency=low

  * debian/patches/18_do_not_double_free_exec_variable.patch:
    - don't free the exec variable twice, thank Colin Gibbs for the detailled 
      bug description (lp: #505051)
  * debian/patches/20_upstart.patch:
    - specify the initctl path to avoid command not found errors which break
      user switching and guest session

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 19 Jan 2010 23:42:30 +0100

gdm (2.29.5-0ubuntu3) lucid; urgency=low

  * debian/patches/15_default_session.patch: use gpointer* instead of
    GObject* (as a parameter can be a GType)

 -- Didier Roche <didrocks@ubuntu.com>  Tue, 19 Jan 2010 10:57:14 +0100

gdm (2.29.5-0ubuntu2) lucid; urgency=low

  * Add 00git-keyboard-layout-crash.patch: Fixes the crash that happens at the
    second call of get_system_default_layout(). (LP: #505972)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 18 Jan 2010 16:28:48 +0100

gdm (2.29.5-0ubuntu1) lucid; urgency=low

  [ Robert Ancell ]
  * debian/patches/29_switch_user.patch:
    - Add bug link

  [ Milan Bouchet-Valat ]
  * debian/gdm.pam: allow members or the 'nopasswdlogin' group to log in
    without password. This integrates with the gnome-system-tools, which
    include such an option in 2.27.
  * debian/gdm.postinst: create this group on install, which enables that
    feature in the g-s-t.

  [ Martin Pitt ]
  * New upstream release:
    - XDMCP fixes on Solaris
    - run PostLogin script as user instead of gdm
    - Fix ellipses usage on User Switch Applet
    - Add ability to customize system language list
    - Solaris NULL printf fixes
    - Convert from glade to gtkbuilder
    - Detect default keyboard layout better
    - Ignore executable subfolders of xinitrc.d
    - Don't reveal valid usernames when authenticating
  * Drop 01_default_keyboard_layout.patch, accepted upstream.
  * Refresh patches for new upstream version.
  * Add 01_disable_hal.patch: Don't attempt to connect to Hal. The hal-using
    code is already commented out, and this just needlessly triggers Hal
    startup during boot.
  * Add 00git-add-missing-locale-alias.patch: Add missing locale.alias file
    (taken from upstream git head).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 14 Jan 2010 17:07:34 +0100

gdm (2.29.4-0ubuntu3) lucid; urgency=low

  * debian/patches/29_switch_user.patch:
    - Add SwitchToUser() method call

 -- Robert Ancell <robert.ancell@canonical.com>  Thu, 14 Jan 2010 13:11:06 +1100

gdm (2.29.4-0ubuntu2) lucid; urgency=low

  * debian/gdm.upstart: Wait for D-Bus to be ready, to avoid failure if gdm
    starts too early. Thanks to Robert Hooker! (LP: #502838)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Sat, 09 Jan 2010 17:34:43 +0100

gdm (2.29.4-0ubuntu1) lucid; urgency=low

  * New upstream version:
    - Remove deprecated function g_mapped_file_free
    - Fix option widgets to work better with orca
    - make --with-custom-conf work
    - Don't hard code path to policykit agent
    - Don't backup xkb configuration before login
  * debian/control:
    - updated libglib requirement
  * debian/patches/08_use_polkit_for_settings.patch:
    - new version update
  * debian/patches/99_autoreconf.patch:
    - new version update

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 07 Jan 2010 17:05:51 +0100

gdm (2.29.1-0ubuntu9) lucid; urgency=low

  * debian/patches/24_system_uid.patch: use configured system UID
    minimum instead of hard-coded value (LP: #459199).

 -- Kees Cook <kees@ubuntu.com>  Wed, 16 Dec 2009 10:35:09 -0800

gdm (2.29.1-0ubuntu8) lucid; urgency=low

  * debian/gdm.upstart:
    - Revert Mario's changes which prevent gdm from starting for most people,
      and introduce expensive dkms integration code in the non-dkms case!

 -- Scott James Remnant <scott@ubuntu.com>  Tue, 15 Dec 2009 09:37:02 +0000

gdm (2.29.1-0ubuntu7) lucid; urgency=low

  * debian/60xdg_path-on-session:
    - Add xdg path depending on GDM selected session. This enables starting
      desired applications depending on session
  * debian/gdm.install: install previous file in /etc/X11/Xsession.d

 -- Didier Roche <didrocks@ubuntu.com>  Mon, 14 Dec 2009 21:20:06 +0100

gdm (2.29.1-0ubuntu6) lucid; urgency=low

  * debian/gdm.upstart (LP: #453365)
    - Start on built-successful signal for fglrx or nvidia modules.
    - If dkms is available on the system, use it to check the status
      of fglrx or nvidia.  
    - If they're in the DKMS tree but not built, exit the gdm task
      and wait for the build-successful signal.  If they don't build,
      the failsafe-x task will receive a build-failed and can start
      BulletProof-X.

 -- Mario Limonciello <mario_limonciello@dell.com>  Mon, 14 Dec 2009 14:09:14 -0600

gdm (2.29.1-0ubuntu5) lucid; urgency=low

  * debian/patches/15_default_session.patch: (LP: #403291)
    - Choose default session in /etc/gdm/custom.conf using DBus. Removed
      default.desktop hack.
    - Add /usr/lib/gdm-set-default-session to properly define default session:
      use DBus when gdm daemon is on and filing the file when it's off. This
      script can be called in postinst file of ubuntu derivatives.
  * debian/60xdg_path-on-session:
    - Add xdg path depending on GDM selected session. This enables starting
      desired applications depending on session
  * debian/patches/99_autoreconf.patch: refreshed

 -- Didier Roche <didrocks@ubuntu.com>  Sat, 12 Dec 2009 22:55:06 +0100

gdm (2.29.1-0ubuntu4) lucid; urgency=low

  * debian/patches/05_initial_server_on_vt7.patch:
    - Fix a bug in the patch: the return value of open() can be zero on
      success, because zero is a valid file descriptor!  This probably
      never broke in the real world, because we always have standard
      input set to something, but it's worth fixing bugs when you find
      them ;-)
  * debian/patches/27_save_root_window.patch:
    - Patch taken from the plymouth-integration branch of Upstream GIT
      to save the root window pixmap in a property for other things to
      pick up. 
  * debian/patches/28_plymouth_transition.patch:
    - Patch taken from the plymouth-integration branch of Upstream GIT,
      makes gdm check whether plymouth is running on startup; if it is,
      actively arranges for a smooth transition.  Also handles getting
      plymouth out of the way in case the X server doesn't start.
  * debian/gdm.upstart:
    - Remove "starting-dm" event; the above patch means we handle
      stopping the splash screen gracefully by ourselves so don't need
      it.
    - Only look at /etc/X11/default-display-manager and /proc/cmdline
      when started automatically; always allow "start gdm" to work.
    - Use the PRIMARY_DEVICE_FOR_DISPLAY tag on the framebuffer or
      drm card devices to start the X server, still falling back on
      end of udev probing (we may have neither).  Drop the tty
      part, we need both more and less than this.  LP: #491162.

 -- Scott James Remnant <scott@ubuntu.com>  Fri, 11 Dec 2009 06:00:05 +0000

gdm (2.29.1-0ubuntu3) lucid; urgency=low

  * debian/gdm.upstart: Do not fail with exit status !=0 on startup 
    when disabled. LP: #491483

 -- Philip Muskovac <yofel@gmx.net>  Mon, 07 Dec 2009 19:33:05 +0100

gdm (2.29.1-0ubuntu2) lucid; urgency=low

  * debian/patches/26_no_debug.patch:
    - Turn off debugging for unstable versions by default. Logging to
      syslog will slow down loading

 -- Chris Coulson <chrisccoulson@ubuntu.com>  Fri, 04 Dec 2009 17:38:24 +0000

gdm (2.29.1-0ubuntu1) lucid; urgency=low

  * New upstream release:
    [ 2.29.1 ]
    - A new desktop extension is now supported in GDM session desktop files
      (normally found in /usr/share/xsessions). Setting the key to true as follows:
       X-GDM_BypassXsession=true
      will cause the Xsession script to not be used to launch the session.  This
      can be useful if you want to create a "failsafe" xterm session.  The Xsession
      script sources the user's $HOME/.profile, for example, so setting this key
      to true will ensure that any errors in the user's $HOME/.profile will not
      cause the session to fail to start.
    - Fix makedist problem.
    [ 2.29.0 ]
    - Now GDM supports Include, Exclude, and IncludeAll configuration options to
      allow the ability to configure which users are displayed in the FaceBrowser.
    - Now GDM supports better debugging.  Users can set the debug/Enable
      configuration option to turn on GDM debugging.
    - The directory where GDM screenshots are placed has been moved to its own
      directory: /var/run/gdm/greeter/GDM-Screenshot.png.  The screenshot directory
      can now be specified at build time via the --with-screenshot-dir configure
      argument.
    - Many simple-greeter Face Browser usability improvements.
    - The simple-greeter Face Browser tree view search entry is now obscured to
      help prevent accidental display of passwords.
    - Shutdown and reboot functions are moved to a menu in the simple-greeter panel
      instead of being presented as buttons.  The shutdown menu is better
      positioned on multi-monitor displays.
    - The simple-greeter panel notification area has been improved and now honors
      the GConf setting for /apps/notification_area_applet/prefs/padding.
    - The entry field in the simple-greeter now has accessibility labels so it will
      work better with accessibility programs.
    - The clock in the simple-greeter panel no longer shows the date, making the
      screen look a little cleaner.  The date is moved to the clock tooltip so it
      is still available.
    - The simple-greeter now uses gethostname instead of g_get_host_name since
      is more reliable when the hostname changes at runtime.
    - The user switch applet now honors disable_lock_screen.  The option to lock
      screen is now not shown if disable_lock_screen is set.
    - The /var/run/gdm directory is better locked down.
    - GDM no longer crashes on bad UTF-8 in the /etc/passwd file.
    - When the worker dies, the auth-failed signal is no longer sent.  This 
      prevents a crash that happens when switching run-levels when the login screen
      is displayed.
    - Ensure that the length of sockaddr structure is set to the correct length for
      IPv4 or IPv6.  This makes GDM work better on some operating systems that are
      picky about the length being exact.
    - String and documentation improvements.
  * debian/patches/17_add_failsafe.patch:
  * debian/patches/22_shutdown_menu.patch:
    - Applied upstream

 -- Robert Ancell <robert.ancell@canonical.com>  Fri, 04 Dec 2009 16:19:35 +1100

gdm (2.28.1-0ubuntu5) lucid; urgency=low

  * debian/patches/10_xsplash.patch:
    - don't use xsplash by default for now, it uses lot of cpu and costs one
      second to the current login, that will be reactivated later in lucid

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 03 Dec 2009 11:29:59 +0100

gdm (2.28.1-0ubuntu4) lucid; urgency=low

  * debian/gdm.upstart: Do not wait for hal, since we don't need it any more
    (and doesn't even need to be installed any more with a dehalified X.org).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 27 Nov 2009 22:16:26 +0100

gdm (2.28.1-0ubuntu3) lucid; urgency=low

  * Replace 01_default_keyboard_layout_hal.patch with
    01_default_keyboard_layout.patch which uses libxklavier instead of hal to
    read the default keyboard layout from X.org. Drop hal build and binary
    dependencies. (LP: #418981)
  * 16_gdmserver_user_manager.patch, 99_autoreconf.patch: Updated.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 27 Nov 2009 09:25:31 +0100

gdm (2.28.1-0ubuntu2) karmic-proposed; urgency=low

  * Don't respawn gdm on failure; this lets us capture X failures instead and
    trigger the bulletproof X handler here.  LP: #441638.
  * re-export any XORGCONFIG value passed to the upstart job, needed to
    complete integration with bulletproof X.  LP: #474806.

 -- Steve Langasek <steve.langasek@ubuntu.com>  Wed, 04 Nov 2009 18:15:37 -0800

gdm (2.28.1-0ubuntu1) karmic; urgency=low

  * New upstream release (LP: #455944)
    - GDM will now avoid calling XAddHosts for remote connections.
    - Now GDM uses DeviceKit-power instead of gnome-power-manager for Suspend
      support.
    - Now the at-spi-registryd-wrapper.desktop GDM autostart file will run
      at-spi-registryd directly instead of calling at-spi-registryd-wrapper.
    - Fix to the visibility check for the "Other" button which corrects some
      situations where the button would not appear when it was supposed to.
    - Now the GDM daemon will make the /var/log/gdm directory if it does not
      exist.
    - Fixes to avoid autologin failure when a NULL username is passed in.
    - Restore CTYPE when canonicalizing codesets.
    - Several fixes to avoid warnings.
  * debian/patches/18_create_log_dir_when_required.patch:
  * debian/patches/21_dkpower.patch:
    - Applied upstream
  * debian/patches/22_shutdown_menu.patch:
    - Updated

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 20 Oct 2009 11:52:57 +1100

gdm (2.28.0-0ubuntu19) karmic; urgency=low

  * debian/%gconf-tree.xml, debian/gdm.postinst, debian/rules:
    - don't use gconftool to register the default gconf keys but rather
      install a xml files with the values, that will avoid different issues
      due to the su call or the gconf server not being running 
      (lp: #441028, #441167)
    - set the gnome-power-manager icon key to never since that's not useful
      on the login screen and the design team recommended to not have it there
  * debian/gdm.postinst:
    - workaround chown breaking due to the .gvfs fuse directory (lp: #438561)
  * debian/patches/25_update_gconf_directories.patch:
    - define a new directory which is used for the default gconf values

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 15 Oct 2009 12:34:11 +0200

gdm (2.28.0-0ubuntu18) karmic; urgency=low

  * debian/patches/14_guest_session.patch:
    - Switch to existing guest session if already open (LP: #450965)
  * debian/patches/24_system_uid.patch:
  * debian/patches/16_gdmserver_user_manager.patch:
    - Fix more cases of users with UID < 1000

 -- Robert Ancell <robert.ancell@canonical.com>  Thu, 15 Oct 2009 01:07:18 +0200

gdm (2.28.0-0ubuntu17) karmic; urgency=low

  [ Robert Ancell ]
  * debian/patches/22_shutdown_menu.patch:
    - Mark power menu options as translatable (LP: #450707)

  [ Scott James Remnant ]
  * debian/gdm.upstart:
    - Wait for tty7 to be ready, and either a framebuffer or the end
      of coldplugging.

 -- Scott James Remnant <scott@ubuntu.com>  Wed, 14 Oct 2009 05:08:47 +0100

gdm (2.28.0-0ubuntu15) karmic; urgency=low

  * debian/patches/23_login_window_hint.patch:
    - Don't put a type hint on the login window as this causes it not to get
      focus (LP: #447049)
  * debian/patches/16_gdmserver_user_manager.patch:
    - Don't show users with UID < 1000 (LP: #427462)

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 13 Oct 2009 15:56:41 +1100

gdm (2.28.0-0ubuntu14) karmic; urgency=low

  * debian/gdm.postinst: Set icon theme to HumanLoginIcons. Also, call su just
    once with all four gconftool commands instead of several times.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 07 Oct 2009 15:39:17 +0200

gdm (2.28.0-0ubuntu13) karmic; urgency=low

  * debian/gdm{,-autologin}.pam: correctly handle SELinux transitions,
    thanks to Caleb Case (LP: #430205).

 -- Kees Cook <kees@ubuntu.com>  Tue, 06 Oct 2009 16:49:25 -0700

gdm (2.28.0-0ubuntu12) karmic; urgency=low

  * debian/gdm.upstart: Also stop when entering single-user mode.
    LP: #437281.

 -- Scott James Remnant <scott@ubuntu.com>  Sat, 03 Oct 2009 08:09:44 +0100

gdm (2.28.0-0ubuntu11) karmic; urgency=low

  * 99_autoreconf.patch: Drop removal of *.rej junk, it was fixed in
    04_fix_external_program_directories.patch.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 02 Oct 2009 12:22:28 +0200

gdm (2.28.0-0ubuntu10) karmic; urgency=low

  * 01_default_keyboard_layout_hal.patch: Read keyboard variant from hal, too.
    (LP: #421212)
  * debian/gdm.postinst: Set HumanLogin theme for metacity, too. Thanks to
    Devid Antonio Filoni! (LP: #439546)
  * 04_fix_external_program_directories.patch: Remove *.rej junk.
  * 04_fix_external_program_directories.patch: Fix path to polkit-gnome
    authentication agent. (Caught as a side issue in LP #401822)
  * debian/rules: Drop polkit-gnome agent autostart file. It has never worked
    anyway due to wrong path (see previous change), and we do not currently
    need it.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 01 Oct 2009 23:53:54 +0200

gdm (2.28.0-0ubuntu9) karmic; urgency=low

  * debian/gdm.postinst:
    - use the correct key to set the gtk theme

  [ Robert Ancell ]
  * debian/patches/22_shutdown_menu.patch:
    - Fix spacing on shutdown menu (LP: #437691)
  * debian/patches/*.patch:
    - Update patch headers
  * debian/patches/19_no_greeter_for_autologin.patch:
    - Fix bug that caused the GDM greeter to be displayed briefly when
      automatically logging in (LP: #435801)

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 30 Sep 2009 15:21:09 +0200

gdm (2.28.0-0ubuntu8) karmic; urgency=low

  * debian/gdm.upstart:
    - Emit a starting-dm event just before starting gdm itself, for the
      benefit of usplash.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 29 Sep 2009 00:18:49 +0100

gdm (2.28.0-0ubuntu7) karmic; urgency=low

  * debian/gdm.postinst:
    - set a different theme for the gdm login screen (lp: #436817)

 -- Sebastien Bacher <seb128@ubuntu.com>  Mon, 28 Sep 2009 23:25:40 +0200

gdm (2.28.0-0ubuntu6) karmic; urgency=low

  * debian/patches/16_gdmserver_user_manager.patch:
    - change by Cody Russell to Fix user-added and user-removed signal emissions
      to emit the UID instead of the user pointer. (lp :#436195)

 -- Sebastien Bacher <seb128@ubuntu.com>  Fri, 25 Sep 2009 00:58:39 +0200

gdm (2.28.0-0ubuntu5) karmic; urgency=low

  * debian/patches/17_add_failsafe.patch:
    - adds code to support failsafe sessions again (from gnome #594833) 

 -- Travis Watkins <amaranth@ubuntu.com>  Thu, 24 Sep 2009 10:30:08 +0200

gdm (2.28.0-0ubuntu4) karmic; urgency=low

  * Move shutdown buttons from under user list to lower right corner of screen
    (LP: #434338)

 -- Robert Ancell <robert.ancell@canonical.com>  Wed, 23 Sep 2009 15:44:15 +1000

gdm (2.28.0-0ubuntu3) karmic; urgency=low

  * debian/patches/21_dkpower.patch:
    - Port the greeter to DK-Power so that the suspend/hibernate buttons
      appear again, where supported (LP: #420063).
  * debian/control:
    - Add build-depend on libdevkit-power-gobject-dev (>= 008)
  * Refreshed 99_autoreconf.patch

 -- Chris Coulson <chrisccoulson@ubuntu.com>  Tue, 22 Sep 2009 22:04:11 +0100

gdm (2.28.0-0ubuntu2) karmic; urgency=low

  * debian/patches/08_use_polkit_for_settings.patch:
    - set translatable strings and list the file to translate (lp: #425798)
  * debian/patches/09_gdmsetup.patch,
    debian/patches/99_autoreconf.patch:
    - initialize the translations so the gdmsetup interface is translated
      (lp: #434102)
  * debian/patches/17_use_timed_login_after_autologin.patch:
    - revert upstream change to not use timed login after autologin session
      (lp: #396489)
  * debian/patches/18_create_log_dir_when_required.patch:
    - create the log directory when required (lp: #405227)
  * debian/gdm.config, debian/gdm.templates:
    - restore debconf files which have been dropped by error in karmic, 
      thanks Pär Andersson (lp: #395591)

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 22 Sep 2009 15:20:27 +0200

gdm (2.28.0-0ubuntu1) karmic; urgency=low

  * New upstream release (LP: #434354)
    - Now GDM supports the ability to specify the automatic/timed login user via
      a script via the same interface that the old GDM supported.
    - Now the user's dmrc and face image files are stored in /var/cache/gdm, so 
      that the login process does not need to access the user's $HOME directory 
      before authentication.
    - Fix the login GUI options widget so the language/session/layout choices
      are not reset after a failed login.
    - Fix language dialog so it does not crash if the user click's the "OK"
      button when no language is selected.
    - Fix to ensure that the login dialog regains focus after the language or
      layout dialogs are used.
    - The language dialog has improved logic to sort the language names more
      correctly.
    - Make sure to check error variable is not NULL before referencing it in the
      gdm-user-manager code.
    - Make sure to not print NULL strings since this causes crashes on some
      platforms.
    - Improve documentation.
  * debian/patches/09_gdmsetup.patch: updated:
    - Filter ConsoleKit system users (LP: #432271)
    - Make window size fixed (LP: #429206)
  * debian/patches/01_default_keyboard_layout_hal.patch, 
    debian/patches/99_autoreconf.patch: updated.

 -- Robert Ancell <robert.ancell@canonical.com>  Mon, 21 Sep 2009 13:05:51 +1000

gdm (2.27.90-0ubuntu7) karmic; urgency=low

  [ Ken VanDine ]
  * debian/patches/10_xsplash.patch:
    - Use --daemon instead of using the "&" (LP: #430834) 
  * debian/control:
    - Conflict with xsplash (<< 0.8), we don't depend on xsplash but if 
      /usr/bin/xsplash exists we need it to support the --daemon option

  [ Martin Pitt ]
  * debian/gdm.upstart: Drop gdm-cdd.conf handling, gdm does not support it
    any more.
  * debian/gdm.upstart: Do not start in single-user modes or when "text" is
    given as a kernel command line option. This restores previous behaviour.
    (LP: #431176)
  * Add debian/onboard.desktop: gdm "onboard" configuration for the
    accessibility dialog, thanks to Francesco Fumanti!
  * debian/rules: Install onboard.desktop, remove gok.desktop from upstream
    install. We do not ship gok any more. (LP: #423831, #130368)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 17 Sep 2009 19:22:46 +0200

gdm (2.27.90-0ubuntu6) karmic; urgency=low

  * The upstart job won't start unless hal is also started, so add an
    appropriate versioned dependency on the upstarted hal.

 -- Steve Langasek <steve.langasek@ubuntu.com>  Wed, 16 Sep 2009 01:58:11 -0700

gdm (2.27.90-0ubuntu5) karmic; urgency=low

  FFE LP: #427356.

  * Replace init script with Upstart job.
  * debian/control:
    - Bump build-dependency on debhelper for Upstart-aware dh_installinit
  * debian/patches/20_upstart.patch:
    - Emit Upstart events when starting the login session and desktop
      session, just after starting xsplash.  These can be used as
      synchronisation points.

 -- Scott James Remnant <scott@ubuntu.com>  Tue, 15 Sep 2009 03:31:21 +0100

gdm (2.27.90-0ubuntu4) karmic; urgency=low

  * debian/patches/16_gdmserver_user_manager.patch:
    - Add user manager d-bus interface to gdmserver (LP: #423450)

 -- Robert Ancell <robert.ancell@canonical.com>  Sat, 12 Sep 2009 12:49:48 +0200

gdm (2.27.90-0ubuntu3) karmic; urgency=low

  * Add 15_default_session.patch: Prefer "default.session", so that other
    desktop environments like XFCE can use gdm, too, without being forced to
    start GNOME. (LP: #403291)
  * debian/gdm.postrm: Fix purge breakage if one of the to-be-cleaned-up
    directories does not exist.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 10 Sep 2009 13:02:27 +0200

gdm (2.27.90-0ubuntu2) karmic; urgency=low

  [ Robert Ancell ]
  * debian/patches/13_cache_ck_history.patch:
    - Cache result of ck-history to make startup fast (LP: #400863)

  [ Martin Pitt ]
  * Add 14_guest_session.patch: Rewrite guest session support for new gdm
    architecture. This now adds a D-BUS operation StartGuestSession(), since
    gdmflexiserver is being deprecated. (LP: #404870)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 07 Sep 2009 18:18:15 +0200

gdm (2.27.90-0ubuntu1) karmic; urgency=low

  [ Robert Ancell ]
  * New upstream release: (LP: #418426)
    - Autostart polkit-gnome authentication agent.
    - Add screen capture sound effect to screenshot tool.
    - If HOST_NAME_MAX is not available, try _POSIX_HOST_NAME_MAX, then 
      default to 256.
    - Add users "nobody4" and "noaccess" to the list of users to filter from
      the Face Browser.
    - Add Solaris logindevperm support. 
    - Fix mispelling of XDMCP.
    - Improve documentation.
  * debian/control:
    - Depend on libcanberra-gtk
  * debian/patches/01_default_keyboard_layout_hal.patch:
  * debian/patches/02_x_server_location.patch:
  * debian/patches/03_hide_system_users.patch:
  * debian/patches/04_fix_external_program_directories.patch:
  * debian/patches/08_use_polkit_for_settings.patch:
  * debian/patches/99_autoreconf.patch:
    - Refreshed
  * debian/patches/09_gdmsetup.patch:
    - Set gdmsetup window title and icon
    - Fix crash when have no default users configured

  [ Ted Gould ]
   * Add 12_fusa_name_change.patch: Change the Bonobo activation server name
     of the FUSA applet.
   * debian/rules: Rename the Bonobo activate server description before
     installing it. (LP: #410498)

 -- Robert Ancell <robert.ancell@canonical.com>  Tue, 25 Aug 2009 15:32:13 +0200

gdm (2.27.4-0ubuntu11) karmic; urgency=low

  * debian/patches/09_gdmsetup.patch:
    - clean some unused variables there
    - don't crash if there is no autologin key in the configuration yet
      (lp: #410475)
    - don't specify encoding in desktop entry (lp: #410591)
  * debian/patches/11_crash_for_apport.patch:
    - don't catch crashes so apport can do its job

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 12 Aug 2009 16:17:23 +0200

gdm (2.27.4-0ubuntu10) karmic; urgency=low

  * debian/patches/10_xsplash.patch:
    - updated version by Cody Russell

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 11 Aug 2009 19:10:45 +0200

gdm (2.27.4-0ubuntu9) karmic; urgency=low

  * debian/control:
   - build-depends on libpolkit-gobject-1-dev

 -- Sebastien Bacher <seb128@ubuntu.com>  Fri, 07 Aug 2009 17:00:43 +0100

gdm (2.27.4-0ubuntu8) karmic; urgency=low

  * debian/patches/10_xsplash.patch:
    - Fixed a syntax error

 -- Ken VanDine <ken.vandine@canonical.com>  Fri, 07 Aug 2009 16:29:02 +0100

gdm (2.27.4-0ubuntu7) karmic; urgency=low

  * debian/patches/08_use_polkit_for_settings.patch:
    - Use PolicyKit for GDM settings
  * debian/patches/09_gdmsetup.patch:
    - Provide a setup tool for basic configuration (LP: #395299)
  * debian/patches/10_xsplash.patch:
    - Load xsplash on login
  * debian/patches/99_autoreconf.patch:
    - Updated

 -- Robert Ancell <robert.ancell@canonical.com>  Fri, 07 Aug 2009 09:23:21 +0100

gdm (2.27.4-0ubuntu6) karmic; urgency=low

  * debian/patches/07_correct_distribution_version.patch:
    - correctly display ubuntu as distribution (lp: #396805)

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 23 Jul 2009 23:19:33 +0200

gdm (2.27.4-0ubuntu5) karmic; urgency=low

  * debian/rules:
    - move custom.conf to /usr/share/doc/gdm/examples to avoid
      a conffile prompt when upgrading from a existing gdm
  * debian/gdm.preinst:
    - fix typo

 -- Michael Vogt <michael.vogt@ubuntu.com>  Wed, 22 Jul 2009 10:51:59 +0200

gdm (2.27.4-0ubuntu4) karmic; urgency=low

  * debian/control:
    - Replace dependency on gnome-session with gnome-session-bin
    - Add recommends on metacity | x-window-manager
    - Add recommends on gnome-settings-daemon | xfconf
    - Add suggestion on gnome-power-manager, gnome-orca, gok, and gnome-mag
    - (LP: #400901)

 -- Cody A.W. somerville <cody-somerville@ubuntu.com>  Tue, 21 Jul 2009 21:28:30 +0200

gdm (2.27.4-0ubuntu3) karmic; urgency=low

  * 06_run_xsession.d.patch: Define $OPTIONFILE, so that the
    75dbus_dbus-launch Xsession.d script properly runs the session under
    dbus-launch. (LP: #402161)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 21 Jul 2009 14:31:02 +0200

gdm (2.27.4-0ubuntu2) karmic; urgency=low

  * debian/control: Fix typo in Conflicts

 -- Didier Roche <didrocks@ubuntu.com>  Mon, 20 Jul 2009 16:12:11 +0200

gdm (2.27.4-0ubuntu1) karmic; urgency=low

  * New upstream release:
    - Favor XFree86 Xinerama over Solaris Xinerama on Solaris
    - Make greeter a well behaved session client
    - XDMCP fixes
    - Fix up btmp record handling
    - Handle locales with modifiers better
    - Use better logic with keyboard layout handling
    - Change example PAM file/documentation to demonstrate password-less login
    - Handle usernames from non-utf8 locales
    - Allow dbus introspection for gdm services
    - Show more details authentication error messages in UI
    - Allow uppercase and lowercase booleans in config file
    - Be more consistent with booleans in schemas
    - Use g_timeout_add_seconds to reduce wakeups
    - Make greeter window more clear when user list is disabled
    - Put greeter login window in same ctrl-alt-tab menu as panel
    - Port greeter to PolicyKit 1.0
    - Shave off 1/2 second delay when bringing up greeter
    - OS X portability fixes
    - Look for locales in /usr/lib/locale instead of /usr/share/locale
    - Better handling when two users have the same name
  * Drop 01_xrdb_nocpp.patch, applied upstream.
  * debian/control:
    - use conflicts on the buggy libxklavier version to avoid race upgrade
      leading to a gdm greeter crash

 -- Sebastien Bacher <seb128@ubuntu.com>  Mon, 20 Jul 2009 15:20:37 +0200

gdm (2.26.1git20090717-0ubuntu2) karmic; urgency=low

  * Add 06_run_xsession.d.patch: Run /etc/X11/Xsession.d/. (LP: #401201)
  * Add debian/watch.
  * Add 01_default_keyboard_layout_hal.patch: Get default keyboard layout from
    hal. Patch taken from Fedora. (LP: #395103) Add libhal-dev build
    dependency.
  * Add 99_autoreconf.patch to pick up above change.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 20 Jul 2009 13:20:46 +0200

gdm (2.26.1git20090717-0ubuntu1) karmic; urgency=low

  * Update to latest upstream git head:
    - Make greeter login window be a dock. Fixes metacity complaining about
      session management. (LP: #395324)
  * Drop patches which are fixed upstream:
    - 00git-greeter-session-management.patch
    - 00git-invalid-dmrc-layout.patch
    - 00git-use-after-free.patch
    - 00git-xklavier4.patch
    - 02_dont_force_us_keyboard.patch
    - 04_polkit1.patch
  * 80_workaround_incorrect_directories.patch: Update to new upstream version.
  * Drop 01_xconfigoptions.patch; these configure variables are not used any
    more in the upstream code, and upstream supplies the X.org -br option by
    default now. Also drop the corresponding configure changes from
    17_update_default_xserver.patch.
  * Apply 15_usplash.patch to debian/gdm.init and drop the patch.
  * 17_update_default_xserver.patch: Update to new upstream version, add
    corresponding configure change, add patch tag header, forward upstream,
    and rename to 02_x_server_location.patch.
  * Drop 99_autoreconf.patch. The only remaining build system change is the
    previous item.
  * Drop 20_xdm-stuff.patch, it's just cruft.
  * Drop debian/Xsession, and change debian/rules to install the upstream one.
  * 01_xrdb_nocpp.patch: Add patch tag header, forward upstream.
  * Rename 80_workaround_incorrect_directories.patch to
    04_fix_external_program_directories.patch and add patch tag header.
  * Rename 81_initial_server_on_vt7.patch to 05_initial_server_on_vt7.patch.
  * debian/rules: Remove /var/gdm (empty and nonstandard) and /var/run (will
    be created at runtime), thanks lintian.
  * debian/copyright: Point to versioned GPL, thanks lintian.
  * debian/gdm.postrm: Use "set -e" to conform to policy.
  * Add debian/xterm.desktop: Reintroduce "failsafe xterm" session.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 17 Jul 2009 11:41:35 +0200

gdm (2.26.1-0ubuntu7) karmic; urgency=low

  * Rename 04_xklavier4.patch to 00git-xklavier4.patch.
  * Add 04_polkit1.patch: Port to PolicyKit (which essentially means to rip
    out all PolicyKit code, since the backend now talks to the authentication
    agent itself).
  * debian/control: Drop polkit build dependency.
  * Add debian/patches/99_autoreconf.patch: Regenerate autotools files to pick
    up 04_polkit1.patch changes.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 13 Jul 2009 14:50:17 +0200

gdm (2.26.1-0ubuntu6) karmic; urgency=low

  * Add 00git-greeter-session-management.patch: Make the greeter a
    well-behaved session client. Patch taken from upstream git head.
  * Add 00git-use-after-free.patch: Fix crash in xdmcp chooser. Taken from
    upstream git head.
  * debian/control: Add libxklavier-dev build dependency, to get the
    keyboard selector.
  * Add 04_xklavier4.patch: Fix build with libxklavier 4.0. Taken from
    upstream git head.
  * Add 00git-invalid-dmrc-layout.patch: Correctly handle invalid xkb layout
    from ~/.dmrc. Taken from upstream git head.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 13 Jul 2009 11:17:44 +0200

gdm (2.26.1-0ubuntu5) karmic; urgency=low

  * debian/gdm.preinst: Remove obsolete conffiles.
  * debian/gdm.preinst: Migrate autologin settings from gdm.conf (which isn't
    read any more) to custom.conf. (LP: #396459)
  * Add 81_initial_server_on_vt7.patch: Force initial X server to go to tty7
    instead of tty1. This is an Ugly Hack until we have a cleaner solution for
    getty not to tramp over a running X server on vt1. This bandaids the
    immediate problem of the first X server being killed after a few minutes
    due to getty on tty1 timing out. (LP: #396226)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 09 Jul 2009 18:08:07 +0200

gdm (2.26.1-0ubuntu4) karmic; urgency=low

  * debian/gdm.preinst: Do not check for an existing custom.conf, since we
    already ship it. Always let the gdm.conf-custom win, to actually migrate
    settings.
  * debian/control: Drop alternative dependencies for gnome-session, since gdm
    itself now needs gnome-session. (LP: #396321).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 07 Jul 2009 08:53:38 +0200

gdm (2.26.1-0ubuntu3) karmic; urgency=low

  * Add 03_hide_system_users.patch: Do not show system users in the "frequent
    users" list. (LP: #395281)
  * debian/rules: Call dh_installinit with --no-scripts, to avoid restarting
    gdm (and killing your X session) during upgrade. The prerm/postinst
    scripts already have code to reload gdm if appropriate. Unfortunately this
    doesn't help to fix the upgrade from 0ubuntu2, its prerm already kills it.
    (LP: #395302) This also fixes the "locks session and spawns a second X
    server" issue on upgrades from Jaunty. (LP: #395313)
  * Drop 16_correct_customconf_naming.patch: Upstream uses
    and installs /etc/gdm/custom.conf, so gdm also needs to read this. Add
    debian/gdm.preinst to migrate the old name to the new name on upgrades.
    (LP: #395861)
  * 02_dont_force_us_keyboard.patch: Don't return NULL in
    get_default_layout(), but return an empty string and explicitly check this
    when setting $GDM_KEYBOARD_LAYOUT. With NULL, gdm trips over an assertion
    check. (LP: #395595)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 06 Jul 2009 16:04:25 +0200

gdm (2.26.1-0ubuntu2) karmic; urgency=low

  * debian/control: Add Vcs-Bzr, package imported into bzr.
  * Add 02_dont_force_us_keyboard.patch: Don't force GDM_KEYBOARD_LAYOUT=us if
    gdm does not have an explicit setting (which it currently doesn't, since
    there is not even an interface for changing the keyboard layout). Instead,
    let the GNOME session default to the very same system default as gdm
    itself. (LP: #395103)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 03 Jul 2009 19:19:56 +0200

gdm (2.26.1-0ubuntu1) karmic; urgency=low

  * Upload the new gdm codebase to karmic, there is several known issues but
    the new version need testing:
    - there is no graphical configure tool yet
    - gdm will not work correctly after upgrade until restart (restarting on
      upgrade is not possible since it would close running xsession)
    - the fast user switch applet ubuntu changes and the guest session
      have not been updated yet

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 02 Jul 2009 16:24:43 +0200

gdm (2.26.1-0ubuntu0.3) karmic; urgency=low

  * debian/gdm.init: tweak previous change to not break default server

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 01 Jul 2009 09:55:39 +0200

gdm (2.26.1-0ubuntu0.2) karmic; urgency=low

  * debian/patches/17_update_default_xserver.patch:
    - update xserver location
  * debian/gdm.init: use the correct binary naming so restart is working

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 30 Jun 2009 23:23:17 +0200

gdm (2.26.1-0ubuntu0.1) karmic; urgency=low

  * New upstream version 

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 04 Jun 2009 16:01:19 +0200

gdm-new (2.25.2-0ubuntu0.2) jaunty; urgency=low

  * debian/patches/16_correct_customconf_naming.patch:
    - use correct gdm.conf-custom location so user config settings are read

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 03 Mar 2009 17:40:04 +0100

gdm-new (2.25.2-0ubuntu0.1) intrepid; urgency=low

  * New upstream version, the code is a rewrite so the packaging is new too

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 15 Jul 2008 14:16:47 +0100

