Index: gdm-2.30.5/daemon/gdm-xdmcp-display-factory.c
===================================================================
--- gdm-2.30.5.orig/daemon/gdm-xdmcp-display-factory.c	2010-09-10 21:40:36.206562059 +0200
+++ gdm-2.30.5/daemon/gdm-xdmcp-display-factory.c	2010-09-10 21:41:40.554055370 +0200
@@ -2889,7 +2889,7 @@ decode_packet (GIOChannel             *s
                 return TRUE;
         }
 
-        ss_len = (int)gdm_sockaddr_len (&clnt_ss);
+        ss_len = sizeof (clnt_ss);
 
         res = XdmcpFill (factory->priv->socket_fd, &factory->priv->buf, (XdmcpNetaddr)&clnt_ss, &ss_len);
         if G_UNLIKELY (! res) {
Index: gdm-2.30.5/gui/simple-chooser/gdm-host-chooser-widget.c
===================================================================
--- gdm-2.30.5.orig/gui/simple-chooser/gdm-host-chooser-widget.c	2010-09-10 21:42:06.642558243 +0200
+++ gdm-2.30.5/gui/simple-chooser/gdm-host-chooser-widget.c	2010-09-10 21:42:25.026057326 +0200
@@ -208,7 +208,7 @@ decode_packet (GIOChannel           *sou
                 return TRUE;
         }
 
-        ss_len = (int)gdm_sockaddr_len (&clnt_ss);
+        ss_len = sizeof (clnt_ss);
 
         res = XdmcpFill (widget->priv->socket_fd, &buf, (XdmcpNetaddr)&clnt_ss, &ss_len);
         if G_UNLIKELY (! res) {
