gdm (2.27.4-0ubuntu4) karmic; urgency=low

  * debian/control:
    - Replace dependency on gnome-session with gnome-session-bin
    - Add recommends on metacity | x-window-manager
    - Add recommends on gnome-settings-daemon | xfconf
    - Add suggestion on gnome-power-manager, gnome-orca, gok, and gnome-mag

 -- Cody A.W. somerville <cody-somerville@ubuntu.com>  Tue, 21 Jul 2009 12:29:06 -0400

gdm (2.27.4-0ubuntu3) karmic; urgency=low

  * 06_run_xsession.d.patch: Define $OPTIONFILE, so that the
    75dbus_dbus-launch Xsession.d script properly runs the session under
    dbus-launch. (LP: #402161)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 21 Jul 2009 14:31:02 +0200

gdm (2.27.4-0ubuntu2) karmic; urgency=low

  * debian/control: Fix typo in Conflicts

 -- Didier Roche <didrocks@ubuntu.com>  Mon, 20 Jul 2009 16:12:11 +0200

gdm (2.27.4-0ubuntu1) karmic; urgency=low

  * New upstream release:
    - Favor XFree86 Xinerama over Solaris Xinerama on Solaris
    - Make greeter a well behaved session client
    - XDMCP fixes
    - Fix up btmp record handling
    - Handle locales with modifiers better
    - Use better logic with keyboard layout handling
    - Change example PAM file/documentation to demonstrate password-less login
    - Handle usernames from non-utf8 locales
    - Allow dbus introspection for gdm services
    - Show more details authentication error messages in UI
    - Allow uppercase and lowercase booleans in config file
    - Be more consistent with booleans in schemas
    - Use g_timeout_add_seconds to reduce wakeups
    - Make greeter window more clear when user list is disabled
    - Put greeter login window in same ctrl-alt-tab menu as panel
    - Port greeter to PolicyKit 1.0
    - Shave off 1/2 second delay when bringing up greeter
    - OS X portability fixes
    - Look for locales in /usr/lib/locale instead of /usr/share/locale
    - Better handling when two users have the same name
  * Drop 01_xrdb_nocpp.patch, applied upstream.
  * debian/control:
    - use conflicts on the buggy libxklavier version to avoid race upgrade
      leading to a gdm greeter crash

 -- Sebastien Bacher <seb128@ubuntu.com>  Mon, 20 Jul 2009 15:20:37 +0200

gdm (2.26.1git20090717-0ubuntu2) karmic; urgency=low

  * Add 06_run_xsession.d.patch: Run /etc/X11/Xsession.d/. (LP: #401201)
  * Add debian/watch.
  * Add 01_default_keyboard_layout_hal.patch: Get default keyboard layout from
    hal. Patch taken from Fedora. (LP: #395103) Add libhal-dev build
    dependency.
  * Add 99_autoreconf.patch to pick up above change.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 20 Jul 2009 13:20:46 +0200

gdm (2.26.1git20090717-0ubuntu1) karmic; urgency=low

  * Update to latest upstream git head:
    - Make greeter login window be a dock. Fixes metacity complaining about
      session management. (LP: #395324)
  * Drop patches which are fixed upstream:
    - 00git-greeter-session-management.patch
    - 00git-invalid-dmrc-layout.patch
    - 00git-use-after-free.patch
    - 00git-xklavier4.patch
    - 02_dont_force_us_keyboard.patch
    - 04_polkit1.patch
  * 80_workaround_incorrect_directories.patch: Update to new upstream version.
  * Drop 01_xconfigoptions.patch; these configure variables are not used any
    more in the upstream code, and upstream supplies the X.org -br option by
    default now. Also drop the corresponding configure changes from
    17_update_default_xserver.patch.
  * Apply 15_usplash.patch to debian/gdm.init and drop the patch.
  * 17_update_default_xserver.patch: Update to new upstream version, add
    corresponding configure change, add patch tag header, forward upstream,
    and rename to 02_x_server_location.patch.
  * Drop 99_autoreconf.patch. The only remaining build system change is the
    previous item.
  * Drop 20_xdm-stuff.patch, it's just cruft.
  * Drop debian/Xsession, and change debian/rules to install the upstream one.
  * 01_xrdb_nocpp.patch: Add patch tag header, forward upstream.
  * Rename 80_workaround_incorrect_directories.patch to
    04_fix_external_program_directories.patch and add patch tag header.
  * Rename 81_initial_server_on_vt7.patch to 05_initial_server_on_vt7.patch.
  * debian/rules: Remove /var/gdm (empty and nonstandard) and /var/run (will
    be created at runtime), thanks lintian.
  * debian/copyright: Point to versioned GPL, thanks lintian.
  * debian/gdm.postrm: Use "set -e" to conform to policy.
  * Add debian/xterm.desktop: Reintroduce "failsafe xterm" session.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 17 Jul 2009 11:41:35 +0200

gdm (2.26.1-0ubuntu7) karmic; urgency=low

  * Rename 04_xklavier4.patch to 00git-xklavier4.patch.
  * Add 04_polkit1.patch: Port to PolicyKit (which essentially means to rip
    out all PolicyKit code, since the backend now talks to the authentication
    agent itself).
  * debian/control: Drop polkit build dependency.
  * Add debian/patches/99_autoreconf.patch: Regenerate autotools files to pick
    up 04_polkit1.patch changes.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 13 Jul 2009 14:50:17 +0200

gdm (2.26.1-0ubuntu6) karmic; urgency=low

  * Add 00git-greeter-session-management.patch: Make the greeter a
    well-behaved session client. Patch taken from upstream git head.
  * Add 00git-use-after-free.patch: Fix crash in xdmcp chooser. Taken from
    upstream git head.
  * debian/control: Add libxklavier-dev build dependency, to get the
    keyboard selector.
  * Add 04_xklavier4.patch: Fix build with libxklavier 4.0. Taken from
    upstream git head.
  * Add 00git-invalid-dmrc-layout.patch: Correctly handle invalid xkb layout
    from ~/.dmrc. Taken from upstream git head.

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 13 Jul 2009 11:17:44 +0200

gdm (2.26.1-0ubuntu5) karmic; urgency=low

  * debian/gdm.preinst: Remove obsolete conffiles.
  * debian/gdm.preinst: Migrate autologin settings from gdm.conf (which isn't
    read any more) to custom.conf. (LP: #396459)
  * Add 81_initial_server_on_vt7.patch: Force initial X server to go to tty7
    instead of tty1. This is an Ugly Hack until we have a cleaner solution for
    getty not to tramp over a running X server on vt1. This bandaids the
    immediate problem of the first X server being killed after a few minutes
    due to getty on tty1 timing out. (LP: #396226)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Thu, 09 Jul 2009 18:08:07 +0200

gdm (2.26.1-0ubuntu4) karmic; urgency=low

  * debian/gdm.preinst: Do not check for an existing custom.conf, since we
    already ship it. Always let the gdm.conf-custom win, to actually migrate
    settings.
  * debian/control: Drop alternative dependencies for gnome-session, since gdm
    itself now needs gnome-session. (LP: #396321).

 -- Martin Pitt <martin.pitt@ubuntu.com>  Tue, 07 Jul 2009 08:53:38 +0200

gdm (2.26.1-0ubuntu3) karmic; urgency=low

  * Add 03_hide_system_users.patch: Do not show system users in the "frequent
    users" list. (LP: #395281)
  * debian/rules: Call dh_installinit with --no-scripts, to avoid restarting
    gdm (and killing your X session) during upgrade. The prerm/postinst
    scripts already have code to reload gdm if appropriate. Unfortunately this
    doesn't help to fix the upgrade from 0ubuntu2, its prerm already kills it.
    (LP: #395302) This also fixes the "locks session and spawns a second X
    server" issue on upgrades from Jaunty. (LP: #395313)
  * Drop 16_correct_customconf_naming.patch: Upstream uses
    and installs /etc/gdm/custom.conf, so gdm also needs to read this. Add
    debian/gdm.preinst to migrate the old name to the new name on upgrades.
    (LP: #395861)
  * 02_dont_force_us_keyboard.patch: Don't return NULL in
    get_default_layout(), but return an empty string and explicitly check this
    when setting $GDM_KEYBOARD_LAYOUT. With NULL, gdm trips over an assertion
    check. (LP: #395595)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Mon, 06 Jul 2009 16:04:25 +0200

gdm (2.26.1-0ubuntu2) karmic; urgency=low

  * debian/control: Add Vcs-Bzr, package imported into bzr.
  * Add 02_dont_force_us_keyboard.patch: Don't force GDM_KEYBOARD_LAYOUT=us if
    gdm does not have an explicit setting (which it currently doesn't, since
    there is not even an interface for changing the keyboard layout). Instead,
    let the GNOME session default to the very same system default as gdm
    itself. (LP: #395103)

 -- Martin Pitt <martin.pitt@ubuntu.com>  Fri, 03 Jul 2009 19:19:56 +0200

gdm (2.26.1-0ubuntu1) karmic; urgency=low

  * Upload the new gdm codebase to karmic, there is several known issues but
    the new version need testing:
    - there is no graphical configure tool yet
    - gdm will not work correctly after upgrade until restart (restarting on
      upgrade is not possible since it would close running xsession)
    - the fast user switch applet ubuntu changes and the guest session
      have not been updated yet

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 02 Jul 2009 16:24:43 +0200

gdm (2.26.1-0ubuntu0.3) karmic; urgency=low

  * debian/gdm.init: tweak previous change to not break default server

 -- Sebastien Bacher <seb128@ubuntu.com>  Wed, 01 Jul 2009 09:55:39 +0200

gdm (2.26.1-0ubuntu0.2) karmic; urgency=low

  * debian/patches/17_update_default_xserver.patch:
    - update xserver location
  * debian/gdm.init: use the correct binary naming so restart is working

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 30 Jun 2009 23:23:17 +0200

gdm (2.26.1-0ubuntu0.1) karmic; urgency=low

  * New upstream version 

 -- Sebastien Bacher <seb128@ubuntu.com>  Thu, 04 Jun 2009 16:01:19 +0200

gdm-new (2.25.2-0ubuntu0.2) jaunty; urgency=low

  * debian/patches/16_correct_customconf_naming.patch:
    - use correct gdm.conf-custom location so user config settings are read

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 03 Mar 2009 17:40:04 +0100

gdm-new (2.25.2-0ubuntu0.1) intrepid; urgency=low

  * New upstream version, the code is a rewrite so the packaging is new too

 -- Sebastien Bacher <seb128@ubuntu.com>  Tue, 15 Jul 2008 14:16:47 +0100

