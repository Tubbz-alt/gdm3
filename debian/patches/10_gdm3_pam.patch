Index: gdm-3.2.1.1/daemon/gdm-simple-slave.c
===================================================================
--- gdm-3.2.1.1.orig/daemon/gdm-simple-slave.c	2011-12-17 03:58:58.000000000 +0100
+++ gdm-3.2.1.1/daemon/gdm-simple-slave.c	2011-12-17 14:52:37.177845880 +0100
@@ -740,7 +740,7 @@ start_autologin_conversation_if_necessar
 
         g_debug ("GdmSimpleSlave: Starting automatic login conversation");
         gdm_session_start_conversation (GDM_SESSION (slave->priv->session),
-                                        "gdm-autologin");
+                                        GDM_PAM_DOMAIN "-autologin");
 }
 
 static void
@@ -1067,7 +1067,7 @@ on_greeter_begin_auto_login (GdmGreeterS
                 return;
         }
         gdm_session_setup_for_user (GDM_SESSION (slave->priv->session),
-                                    "gdm-autologin",
+                                    GDM_PAM_DOMAIN "-autologin",
                                     username);
 }
 
Index: gdm-3.2.1.1/configure.ac
===================================================================
--- gdm-3.2.1.1.orig/configure.ac	2011-12-17 03:49:29.000000000 +0100
+++ gdm-3.2.1.1/configure.ac	2011-12-17 14:51:10.101420180 +0100
@@ -535,6 +535,21 @@ else
 fi
 AC_SUBST(PAM_PREFIX)
 
+AC_ARG_WITH(pam-domain,
+            AS_HELP_STRING([--with-pam-domain=<domain>],
+                           [specify the naming scheme of pam files]),
+            [if test x$withval != x; then
+               AC_MSG_RESULT("PAM files will be named ${withval} and ${withval}-autologin.")
+             fi])
+
+if test x$withval != x; then
+	GDM_PAM_DOMAIN="$withval"
+else
+	GDM_PAM_DOMAIN=gdm
+fi
+AC_SUBST(GDM_PAM_DOMAIN)
+AC_DEFINE_UNQUOTED([GDM_PAM_DOMAIN], "$GDM_PAM_DOMAIN", [Naming scheme for PAM files])
+
 have_pam=no
 AC_CHECK_LIB(pam, pam_start, have_pam=yes)
 
Index: gdm-3.2.1.1/gui/simple-greeter/extensions/unified/Makefile.am
===================================================================
--- gdm-3.2.1.1.orig/gui/simple-greeter/extensions/unified/Makefile.am	2011-10-19 17:41:52.000000000 +0200
+++ gdm-3.2.1.1/gui/simple-greeter/extensions/unified/Makefile.am	2011-12-17 14:56:51.051087003 +0100
@@ -1,5 +1,5 @@
 NULL =
-PAM_SERVICE_NAME = gdm
+PAM_SERVICE_NAME = $(GDM_PAM_DOMAIN)
 
 extensiondir = $(GDM_SIMPLE_GREETER_EXTENSIONS_DATA_DIR)/unified
 extension_DATA = page.ui
